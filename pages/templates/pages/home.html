{% extends '_base.html' %}
{% block title %}
  Ø®Ø§Ù†Ù‡
{% endblock %}
{% block content %}
  <!-- Hero Section -->
  <div class="text-center mb-8 md:mb-12 fade-in">
    <h2 class="text-3xl md:text-5xl font-bold text-white mb-3 md:mb-4">Ø¨Ù‡ ÙˆØ¨Ù„Ø§Ú¯ Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ğŸ‰</h2>
    <p class="text-white text-base md:text-xl opacity-90 mb-6 md:mb-8">Ù…Ú©Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ú¯Ø°Ø§Ø´ØªÙ† Ø§ÙÚ©Ø§Ø± Ùˆ Ø¯Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</p>

    <!-- Stats -->
    <div class="grid grid-cols-3 gap-3 md:gap-6 max-w-3xl mx-auto mb-6 md:mb-8">
      <div class="stats-card slide-down">
        <div class="text-2xl md:text-3xl font-bold text-purple-700 mb-1">{{ posts.count }}</div>
        <div class="text-xs md:text-base text-gray-600 font-semibold">Ù¾Ø³Øª</div>
      </div>
      <div class="stats-card slide-down" style="animation-delay: 0.1s;">
        <div class="text-2xl md:text-3xl font-bold text-purple-700 mb-1">1.2K</div>
        <div class="text-xs md:text-base text-gray-600 font-semibold">Ø¨Ø§Ø²Ø¯ÛŒØ¯</div>
      </div>
      <div class="stats-card slide-down" style="animation-delay: 0.2s;">
        <div class="text-2xl md:text-3xl font-bold text-purple-700 mb-1">89</div>
        <div class="text-xs md:text-base text-gray-600 font-semibold">Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡</div>
      </div>
    </div>
  </div>

  <!-- New Post Form -->
  {% if user.is_authenticated %}
    <div class="glass-effect rounded-2xl shadow-2xl p-4 md:p-8 mb-8 md:mb-12 slide-down max-w-4xl mx-auto">
      <div class="flex items-center gap-2 md:gap-3 mb-4 md:mb-6">
        <span class="text-2xl md:text-3xl">âœï¸</span>
        <h2 class="text-xl md:text-2xl font-bold gradient-text">Ù¾Ø³Øª Ø¬Ø¯ÛŒØ¯ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯</h2>
      </div>
      <form class="space-y-4 md:space-y-6" method="POST">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="w-full px-4 md:px-6 py-3 md:py-4 btn-primary text-white rounded-xl font-bold text-base md:text-lg">Ø§Ù†ØªØ´Ø§Ø± Ù¾Ø³Øª ğŸš€</button>
      </form>
    </div>
  {% endif %}
  <!-- Posts Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8">
    <!-- Post Card 1 -->
    {% for post in posts %}
      <div class="post-card glass-effect rounded-2xl shadow-lg hover-lift fade-in">
        <!--  link -->
        <a href="{% url 'post_detail' post.pk %}" class="block p-4 md:p-6">
          <div class="flex items-center gap-2 mb-3 md:mb-4">
            {% if forloop.first %}
              <span class="badge text-xs">Ø¬Ø¯ÛŒØ¯</span>
            {% endif %}
            <span class="text-xs md:text-sm text-gray-500">{{ post.created_at|date:'Y/m/d' }}</span>
          </div>

          <h3 class="text-lg md:text-xl font-bold text-purple-700 mb-2 md:mb-3">{{ post.title }}</h3>

          <p class="text-sm md:text-base text-gray-700 mb-3 md:mb-4 leading-relaxed">{{ post.description|truncatewords:20 }}</p>
        </a>

        <div class="divider my-3 md:my-4"></div>

        <!-- Footer  -->
        <div class="px-4 md:px-6 pb-4 md:pb-6">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
              <div class="avatar text-sm" style="width: 32px; height: 32px; font-size: 14px;">{{ post.author.username.0 }}</div>
              <div class="font-semibold text-gray-700 text-xs md:text-sm">{{ post.author }}</div>
            </div>

            {% if request.user == post.author %}
              <div class="flex gap-1 md:gap-2">
                <a href="#" class="px-2 md:px-3 py-1 btn-edit text-white rounded-lg text-xs font-bold">ÙˆÛŒØ±Ø§ÛŒØ´</a>
                <a href="#" class="px-2 md:px-3 py-1 btn-delete text-white rounded-lg text-xs font-bold">Ø­Ø°Ù</a>
              </div>
            {% endif %}
          </div>

          <div class="mt-3 md:mt-4 flex items-center gap-3 md:gap-4 text-xs md:text-sm text-gray-600">
            <span>ğŸ‘ï¸ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
            <span>ğŸ’¬ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
            <span>â¤ï¸ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}

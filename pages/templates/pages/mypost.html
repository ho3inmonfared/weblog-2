{% extends "_base.html" %}

{% block title %}Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†{% endblock title %}

{% block content %}

<div class="min-h-[70vh] fade-in">

    {% comment %} <!-- Page Header -->
    <div class="mb-6 text-center">
        <h1 class="text-2xl md:text-3xl font-bold">Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†</h1>
        <p class="text-light text-sm">ØªÙ…Ø§Ù… Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø´Ù…Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</p>
    </div> {% endcomment %}

    <!-- Posts Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% if posts %}
            {% for post in posts %}
            <div class="post-card glass-effect rounded-2xl shadow-lg hover-lift fade-in">

                <!-- Card Link -->
                <a href="{% url 'post_detail' post.pk %}" class="block p-4 md:p-6">
                    <div class="flex items-center gap-2 mb-3 md:mb-4">
                        {% if forloop.first %}<span class="badge text-xs">Ø¬Ø¯ÛŒØ¯</span>{% endif %}
                        <span class="text-xs md:text-sm text-gray-500">{{ post.created_at|date:'Y/m/d' }}</span>
                    </div>

                    <h3 class="text-lg md:text-xl font-bold text-purple-700 mb-2 md:mb-3">{{ post.title }}</h3>

                    <p class="text-sm md:text-base text-gray-700 mb-3 md:mb-4 leading-relaxed">
                        {{ post.description|truncatewords:20 }}
                    </p>
                </a>

                <div class="divider my-3 md:my-4"></div>

                <!-- Card Footer -->
                <div class="px-4 md:px-6 pb-4 md:pb-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-2">
                            <div class="avatar text-sm" style="width: 32px; height: 32px; font-size: 14px;">
                                {{ post.author.username.0 }}
                            </div>
                            <div class="font-semibold text-gray-700 text-xs md:text-sm">Ø´Ù…Ø§</div>
                        </div>

                        {% if request.user == post.author %}
                        <div class="flex gap-1 md:gap-2">
                            <a href="{% url 'post_update' post.pk %}" class="px-2 md:px-3 py-1 btn-edit text-white rounded-lg text-xs font-bold">
                                âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´
                            </a>
                            <a href="{% url 'post_delete' post.pk %}" class="px-2 md:px-3 py-1 btn-delete text-white rounded-lg text-xs font-bold">
                                ğŸ—‘ Ø­Ø°Ù
                            </a>
                        </div>
                        {% endif %}
                    </div>

                    <div class="mt-3 md:mt-4 flex items-center gap-3 md:gap-4 text-xs md:text-sm text-gray-600">
                        <span>ğŸ‘ï¸ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
                        <span>ğŸ’¬ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
                        <span>â¤ï¸ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="col-span-full text-center text-gray-600 py-20">
                Ù‡Ù†ÙˆØ² Ù¾Ø³ØªÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.
            </div>
        {% endif %}
    </div>

</div>

{% endblock content %}

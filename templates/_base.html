{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% block title %}

      {% endblock %}
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>

  <body class="gradient-bg min-h-screen">
    <!-- nav top mobile -->
    <nav class="md:hidden glass-effect sticky top-0 z-50 px-4 py-3 flex justify-between items-center">
      <div class="flex items-center gap-2">
        <span class="text-xl">ğŸ“</span>
        <span class="font-bold">ÙˆØ¨Ù„Ø§Ú¯ Ù…Ù†</span>
      </div>

      {% if user.is_authenticated %}
        <div class="flex items-center gap-3">
          <div class="avatar">{{ user.username.0 }}</div>
          <span class="text-sm font-semibold">{{ user.username }}</span>
          <form method="POST" action="{% url 'logout' %}">
            {% csrf_token %}
            <button class="px-4 py-2 btn-secondary text-white rounded-full font-semibold text-sm">Ø®Ø±ÙˆØ¬</button>
          </form>
        </div>
      {% else %}
        <div class="flex gap-3 text-sm font-semibold">
          <a href="{% url 'login' %}">ÙˆØ±ÙˆØ¯</a>
          <a href="{% url 'signup' %}" class="text-purple-600">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a>
        </div>
      {% endif %}
    </nav>
    <!-- Desktop Navbar -->
    <nav class="glass-effect shadow-lg sticky top-0 z-50 fade-in desktop-nav">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div class="flex items-center gap-3">
            <div class="text-3xl floating">ğŸ“</div>
            <h1 class="text-2xl font-bold gradient-text">ÙˆØ¨Ù„Ø§Ú¯ Ù…Ù†</h1>
          </div>

          <!-- Navigation Links -->
          <div class="hidden md:flex items-center gap-6">
            <a href="{% url 'home' %}" class="text-gray-700 hover:text-purple-600 font-semibold transition-colors">Ø®Ø§Ù†Ù‡</a>

            <!-- Posts Dropdown -->
            <div class="relative group">
              <button class="text-gray-700 hover:text-purple-600 font-semibold transition-colors flex items-center gap-1">
                Ù¾Ø³Øªâ€ŒÙ‡Ø§
                <span class="text-xs">â–¾</span>
              </button>

              <!-- Dropdown -->
              <div class="absolute right-0 mt-3 w-48 glass-effect rounded-xl shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50">
                <ul class="py-2 text-sm">
                  <li>
                    <a href="{% url 'home' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition">Ù‡Ù…Ù‡ Ù¾Ø³Øªâ€ŒÙ‡Ø§</a>
                  </li>
                  {% if user.is_authenticated %}
                    <li>
                      <a href="{% url 'mypost' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition">âœï¸ Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†</a>
                    </li>
                    <li>
                      <a href="{% url 'mydrafts' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition">ğŸ“ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§</a>
                    </li>
                  {% endif %}
                </ul>
              </div>
            </div>

            <a href="#" class="text-gray-700 hover:text-purple-600 font-semibold transition-colors">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
            <a href="#" class="text-gray-700 hover:text-purple-600 font-semibold transition-colors">ØªÙ…Ø§Ø³</a>
          </div>

          <!-- User Menu -->
          <div class="flex items-center gap-3">
            {% if user.is_authenticated %}
              <div class="avatar">{{ user.username.0 }}</div>
              <span class="hidden sm:inline text-gray-700 font-semibold">{{ user.username }}</span>
              <form action="{% url 'logout' %}" method="POST">
                {% csrf_token %}
                <button class="px-4 py-2 btn-secondary text-white rounded-full font-semibold text-sm">Ø®Ø±ÙˆØ¬</button>
              </form>
            {% else %}
              <a href="{% url 'login' %}" class="px-4 py-2 btn-secondary text-white rounded-full font-semibold text-sm">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</a>
            {% endif %}
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 mobile-padding-bottom">
      {% block content %}

      {% endblock %}
    </div>

    <!-- Footer (Desktop Only) -->
    <footer class="glass-effect mt-16 py-8 desktop-nav">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
          <div>
            <h3 class="font-bold text-purple-700 mb-4 text-lg">Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙˆØ¨Ù„Ø§Ú¯</h3>
            <p class="text-gray-600 leading-relaxed">ÙˆØ¨Ù„Ø§Ú¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ù†Ø´ Ùˆ ØªØ¬Ø±Ø¨ÛŒØ§Øª Ø¯Ø± Ø­ÙˆØ²Ù‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±</p>
          </div>
          <div>
            <h3 class="font-bold text-purple-700 mb-4 text-lg">Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…ÙÛŒØ¯</h3>
            <ul class="space-y-2">
              <li>
                <a href="#" class="text-gray-600 hover:text-purple-600 transition-colors">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
              </li>
              <li>
                <a href="#" class="text-gray-600 hover:text-purple-600 transition-colors">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a>
              </li>
              <li>
                <a href="#" class="text-gray-600 hover:text-purple-600 transition-colors">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª</a>
              </li>
              <li>
                <a href="#" class="text-gray-600 hover:text-purple-600 transition-colors">Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ</a>
              </li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-purple-700 mb-4 text-lg">Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</h3>
            <div class="flex gap-3">
              <a href="#" class="w-10 h-10 btn-primary text-white rounded-full flex items-center justify-center">ğŸ“±</a>
              <a href="#" class="w-10 h-10 btn-primary text-white rounded-full flex items-center justify-center">ğŸ¦</a>
              <a href="#" class="w-10 h-10 btn-primary text-white rounded-full flex items-center justify-center">ğŸ’¼</a>
              <a href="#" class="w-10 h-10 btn-primary text-white rounded-full flex items-center justify-center">ğŸ“§</a>
            </div>
          </div>
        </div>
        <div class="text-center text-gray-600 pt-6 border-t border-gray-200">
          <p>Â© 2024 ÙˆØ¨Ù„Ø§Ú¯ ÙØ§Ø±Ø³ÛŒ Ù…Ø¯Ø±Ù†. ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
        </div>
      </div>
    </footer>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-bottom-nav">
      <div class="mobile-bottom-nav-inner flex justify-between items-center px-6">
        <!-- Home -->
        <a href="{% url 'home' %}" class="mobile-nav-item active">
          <div class="nav-icon">ğŸ </div>
          <div>Ø®Ø§Ù†Ù‡</div>
        </a>

        <!-- Search -->
        <div class="mobile-nav-item">
          <div class="nav-icon">ğŸ”</div>
          <div>Ø¬Ø³ØªØ¬Ùˆ</div>
        </div>

        <!-- FAB -->
        {% if user.is_authenticated %}
          <a href="{% url 'home' %}" class="mobile-nav-fab-wrapper"><div class="mobile-fab">âœï¸</div></a>
        {% endif %}

        <!-- Mobile Posts Dropdown -->
        <div class="mobile-nav-item relative">
          <div class="nav-icon">ğŸ“„</div>
          <div>Ù¾Ø³Øªâ€ŒÙ‡Ø§ â–¾</div>
          <ul class="absolute left-0 mt-2 w-40 glass-effect rounded-xl shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 text-sm">
            <li>
              <a href="{% url 'home' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700">Ù‡Ù…Ù‡ Ù¾Ø³Øªâ€ŒÙ‡Ø§</a>
            </li>
            {% if user.is_authenticated %}
              <li>
                <a href="{% url 'mypost' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700">âœï¸ Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†</a>
              </li>
              <li>
                <a href="{% url 'mydrafts' %}" class="block px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-700">ğŸ“ Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§</a>
              </li>
            {% endif %}
          </ul>
        </div>

        <!-- Profile / Login -->
        {% if user.is_authenticated %}
          <a href="#" class="mobile-nav-item">
            <div class="nav-icon">ğŸ‘¤</div>
            <div>Ù¾Ø±ÙˆÙØ§ÛŒÙ„</div>
          </a>
        {% else %}
          <a href="{% url 'login' %}" class="mobile-nav-item">
            <div class="nav-icon">ğŸ”</div>
            <div>ÙˆØ±ÙˆØ¯</div>
          </a>
        {% endif %}
      </div>
    </nav>
  </body>
</html>
